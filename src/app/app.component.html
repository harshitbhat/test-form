<div class="container d-flex flex-column justify-content-around">
  <div class="test-container">
    <div class="d-flex-flex-column" *ngIf="testAssigned.length">
      <h4>Assigned Lab Test</h4>
      <app-assigned-lab-test
        [assignedLabTestList]="testAssigned"
      ></app-assigned-lab-test>
    </div>
    <div class="d-flex flex-column">
      <h4>Choose Lab Test</h4>
      <ng-container *ngIf="testAssigned.length === 0">
        <app-select-lab-test-form
          (selected)="addTest($event)"
          [showDelIcon]="false"
          [componentDetails]="undefined"
        ></app-select-lab-test-form>
      </ng-container>
      <div *ngIf="formsOpenCount">
        <div *ngFor="let x of counter(formsOpenCount); let idx = index">
          <app-select-lab-test-form
            [showDelIcon]="true"
            [componentDetails]="additionalTests[idx]"
            (selected)="addTest($event)"
            (deleteSelected)="deleteTest($event)"
            (componentCreated)="getNewFormData($event)"
          ></app-select-lab-test-form>
        </div>
      </div>
    </div>
    <div>
      <button class="add-form" nz-button nzType="primary" (click)="addForm()">
        <i nz-icon nzType="plus"></i>
        Add another lab test
      </button>
    </div>
  </div>
  <div class="d-flex justify-content-center">
    <button
      class="btn btn-primary"
      (click)="saveTests()"
      [disabled]="testsSelected.size === 0"
    >
      Save
    </button>
  </div>
</div>
